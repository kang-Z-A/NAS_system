## 页面组成

1. 登录
2. 注册
3. 主界面



## 主界面组成

左半边：导航栏

右半边：显示界面



### 导航栏组成

我的

音视频点播

图片在线查看

上传下载






### 后端mongodb数据库

新建一个system数据库，里面包含两类集合，一类Users存储用户信息；一类资源路径集合，包含root和其他users

将每一个用户加入集合Users，超级用户root为同级集合，存储在线平台资源

Users包含用户信息：
    1. 用户名
    2. 密码
    3. 个人资源路径（后续可继续细分，这里建议每个人的个人资源放到一个新建的集合中）,唯一标识：用户名
        + 用户名
        + 头像路径
        + 图片资源路径
        + 音视频资源路径
        + 其他资源路径



### token逻辑
1. 全局请求拦截，将localstorage的token携带进请求头发给后端,若没有token属性就传空字符串
2. 后端判断
    1. 若为空字符串，表示第一次登入，传code=401，表示没有凭证
    2. 若不为空，对token进行解码，得到{name, startTime, timeout},进行计算查看是否过期，过期则传code=402，表示token过 期，没过期则传code=200,若解码错误返回401
3. 全局响应拦截，若code=401或402,将页面转到login页面，code=200则不变


### menu界面
1. 向后端请求用户信息，包括个人信息和资源路径,
2. 后端进行分析：
    1. 检查token，姓名与有效时间有一样不合格就返回code=402，结束后续操作
    2. token有效，得到用户name，据此向数据库查询相关数据并放到ctx.body中返回code=200